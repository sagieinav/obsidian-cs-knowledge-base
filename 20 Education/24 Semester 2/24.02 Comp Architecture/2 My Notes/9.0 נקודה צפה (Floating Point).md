```table-of-contents
```
## 1.  爪 住驻专 专爪 (拽 爪驻)

### 1.1 : 拽 拽注  拽 爪驻

###### 拽 拽注 (Fixed Point)
*   专 砖 爪 住驻专 砖 (signed/unsigned) 注 .
*   拽 "拽 专转" (驻专  拽 砖 拽 砖专) **拽注** 专砖  砖专 驻专砖. , 爪 砖 专, 拽 爪转 转  住转 驻转 砖注转转 (LSB).

###### 拽 爪驻 (Floating Point)
*   专 砖 转专 爪 住驻专 砖 ( 砖专)  注专 专 .
*   住住 注 爪 **注** 住住 2: $Number = \pm Mantissa \times 2^{Exponent}$
    *   **住 (Mantissa/Significand)**: 爪转 转 住驻专转 砖注转转 砖 住驻专 (拽 砖专).
    *   **拽住驻 (Exponent)**: 爪 转 拽 砖 2, 拽注转 转 拽 拽 爪驻.
    *   **住 (Sign)**: 爪  住驻专   砖.

### 1.2 转拽 IEEE 754 
*   转拽 驻抓 转专 注 爪 专转拽 砖 住驻专 拽 爪驻, 驻专住 -1985.
*   注 爪专 住专爪  转转  注专转 砖转.
*   专 驻专 注拽专, 注专   注.

### 1.3 驻专 注拽专 -IEEE 754

###### Float (Single Precision) - 32 住转
*   ****:
    *   **住 (Sign)**: 住转 转 (0 , 1 砖).
    *   **拽住驻 (Exponent)**: 8 住转, 爪转 注 **Bias 砖 127**.
        *   注专 转 砖 拽住驻 : $E_{actual} = E_{stored} - 127$.
    *   **住 (Mantissa/Fraction)**: 23 住转 (爪转 转 拽 砖*专* 拽 专转).
*   ** 专**: `| S (1) | Exponent (8) | Fraction (23) |`

###### Double (Double Precision) - 64 住转
*   ****:
    *   **住 (Sign)**: 住转 转.
    *   **拽住驻 (Exponent)**: 11 住转, 爪转 注 **Bias 砖 1023**.
        *   注专 转: $E_{actual} = E_{stored} - 1023$.
    *   **住 (Mantissa/Fraction)**: 52 住转.
*   ** 专**: `| S (1) | Exponent (11) | Fraction (52) |`

### 1.4 专 住转 住转专转 (Hidden Bit)

*   **爪专 专转**: 转拽 IEEE 754 (注 拽专 ), 住 爪转 转 爪专 砖 砖 住驻专 **1** 转 **驻** 拽 专转.
    *   : $1.fraction \times 2^{exponent}$
*   **住转 住转专转**:  砖住驻专 砖驻 拽  **转 1** 爪专 专转,  爪专 住 转 专.  "注转"  "住转专转" (Hidden Bit).
*   **砖专 注专**:  砖专 转 注专 住 , 住驻 1 驻 拽 拽 砖专 (Fraction) 住.
    *   注专 住驻专: $Value = (-1)^S \times (1.Fraction)_2 \times 2^{(Exponent - Bias)}$

### 1.5  注专 拽专  (注专 Float)

######  注专 专
*   拽注 注" 注专 拽住驻  拽住 转专 ( 0  255).
*   注专 拽住 (): $\approx (1.11...1)_2 \times 2^{(254-127)} \approx 2 \times 2^{127} \approx 3.4 \times 10^{38}$
*   注专  (): $(1.00...0)_2 \times 2^{(1-127)} = 1 \times 2^{-126} \approx 1.17 \times 10^{-38}$

###### 注专  (拽注 驻 注专 拽住驻 住)
*   **驻住 (Zero)**:
    *   Exponent = 0, Fraction = 0.
    *   拽 +0 (S=0) --0 (S=1).
*   **Denormalized Numbers**:
    *   Exponent = 0, Fraction $\ne$ 0.
    *   住驻专 拽 , 拽专 驻住. 住转 注转  0  1.
    *   注专: $(-1)^S \times (0.Fraction)_2 \times 2^{-126}$.
*   **住祝 (Infinity)**:
    *   Exponent = 255 ( 住转 1), Fraction = 0.
    *   拽 $+\infty$ (S=0) --$\infty$ (S=1). 专 砖  拽 驻住.
*   **NaN (Not a Number)**:
    *   Exponent = 255, Fraction $\ne$ 0.
    *   爪 转爪  专转 (砖, $0/0$, $\infty - \infty$, $\sqrt{-1}$).

*(注专转 转 拽转 注专 Double, 注  -Bias 砖)*

### 1.6 专转 住驻专

#### 1.6.1 专 注砖专 拽 爪驻 (IEEE 754 Float)
1.  专 转 住驻专 注砖专 爪 专 ( 拽 砖专).
2.  专 转 住驻专 专 爪专: $\pm 1.fraction \times 2^{exponent}$.
3.  拽注 转 住转 住 (S).
4.  砖 转 拽住驻 住: $Exponent_{stored} = Exponent_{actual} + 127$. 专 爪 专 砖 8 住转.
5.  拽 转 23 住转 专砖转 砖 -Fraction (拽 砖专 拽 住 专转).
6.  专 转 砖砖转 拽 (S | Exponent | Fraction) 爪 -32 住转.
*   ****: 专转 12.125
    1.  $(12.125)_{10} = (1100.001)_2$
    2.  专: $1.100001 \times 2^3$ ($exponent=3$)
    3.  住: S=0 ()
    4.  拽住驻 住: $3 + 127 = 130 = (10000010)_2$
    5.  Fraction: $10000100000000000000000$ (23 住转)
    6.  转爪: `0 10000010 10000100000000000000000`

#### 1.6.2 专转 拽 爪驻 注砖专
1.  驻专拽 转 爪 -S, Exponent, Fraction.
2.  砖 转 拽住驻 转: $E_{actual} = E_{stored} - Bias$ (127 -Float, 1023 -Double).
3.  砖专 转 住  (注 住转 住转专转): $1.Fraction$.
4.  砖 转 注专: $(-1)^S \times (1.Fraction)_2 \times 2^{E_{actual}}$.
5.  专 转 转爪 专转 注砖专.

#### 1.6.3 专转 砖专 驻砖 专
*   注专 砖专 $x$  0 -1:
    1.  转 注 "0.".
    2.   砖, 驻 转 $x$ -2.
    3.   转爪 $\ge 1$, 专砖 "1" 住专 1 转爪  拽 转 $x$ 砖.
    4.   转爪 $< 1$, 专砖 "0" 砖专 转 转爪 -$x$ 砖.
    5.  专 注 驻注 注 砖-$x=0$  注 砖注 住驻专 住转 专爪 (注专 爪 住驻).
*   ****: 专转 1/3
    *   0.
    *   1/3 * 2 = 2/3 (< 1) -> 0.0
    *   2/3 * 2 = 4/3 (>= 1) -> 0.01, x = 4/3 - 1 = 1/3
    *   1/3 * 2 = 2/3 (< 1) -> 0.010
    *   ... 转 专: $(1/3)_{10} = (0.010101...)_2$

---

## 2.  驻注转 专转转 拽 爪驻

> [!IMPORTANT] Floating Point Arithmetic is Complex
> 驻注转 专转转 拽 爪驻 专转 转专 砖专 注 住驻专 砖, 注拽专  爪专 驻 拽住驻 住转 驻专,  爪专 专 注.

### 2.1 专 / 住专
1.  **砖转 拽住驻**:
    *   爪 转 住驻专 注 拽住驻 **拽** 转专.
    *   ** ** 转 住 砖 ( 住转 住转专转)  转 拽住驻 砖 转, 注 砖拽住驻  砖.    -1  转 拽住驻 -1.
2.  **专/住专 住转**:
    *   专 ( 住专, 转 住 拽专 驻注) 转 砖转 住转 (砖专转 转 拽住驻).
3.  **专 转爪**:
    *   ** 转爪  专转** ( '1' 驻 拽,  砖砖 转专 住驻专 转),  转 拽 转 住   砖 注 砖 爪专 专转 ($1.fraction$).
    *   注 转 拽住驻 转 住驻专 转 ( 砖 拽 拽住驻,   ).
    *   **拽转 Underflow/Overflow**:  砖拽住驻 砖 爪  转专.
4.  **注 (Rounding)**:
    *     转 "驻" 住转  住, 砖 注 转 转爪 驻  注 砖 IEEE 754 (专 Round to nearest, ties to even).
    *   转 砖注 专 砖 -专 (砖, 1.11...1 注 -10.00...0),  砖爪专 **砖 专 住祝**.
5.  **拽注转 住**: 住 转爪 拽注 驻 住 驻专 驻注.
```mermaid
graph TD
    Start((Start)) --> CompareExp{Compare Exponents};
    CompareExp -- Not Equal --> AlignMant{Align Mantissas Shift smaller};
    CompareExp -- Equal --> AddSubMant;
    AlignMant --> AddSubMant{Add/Subtract Mantissas};
    AddSubMant --> Normalize{Normalize Result Shift Adjust Exp};
    Normalize -- Check Underflow or Overflow --> Round{Round Result};
    Round -- Renormalize Needed? --> Normalize;
    Round -- OK --> SetSign{Set Sign};
    SetSign --> Finish((Finish));
```

*(专转 专/住专 拽 爪驻)*

### 2.2 驻
1.  **专 拽住驻**: 专 转 砖 拽住驻 住 住专 转 -Bias (   驻注).
2.  **驻 住转**: 驻 转 砖转 住转 ( 住转 住转专转).
3.  **专 转爪**: 转爪 转 爪专 `xx.xxxx`  `x.xxxx`.  转 拽 砖 ( 爪专) 注 转 拽住驻.
4.  **注**: 注 转 住 住驻专 住转 .
5.  **拽注转 住**: 住 转爪  XOR 砖 住 驻专.
6.  **拽转 Underflow/Overflow**.

### 2.3 拽
1.  **住专 拽住驻**: 住专 转 拽住驻 砖 拽  砖 拽, 住祝 转 -Bias.
2.  **拽 住转**: 拽 转 住转 ( 住转 住转专转).
3.  **专 转爪**:  转 拽 ( 爪专) 注 拽住驻.
4.  **注**.
5.  **拽注转 住**: XOR 砖 住 驻专.
6.  **拽转 Underflow/Overflow**.

---
## 3. 锔 驻拽转 拽 爪驻 -MIPS

### 3.1 转 拽 爪驻 (Coprocessor 1)
*   -MIPS, 驻注转 拽 爪驻 爪注转 注" 转 专 驻专转 拽专转 **Coprocessor 1 (CP1)**.
*   -CP1 砖 住 **专住专** 砖: **32 专住专 拽 爪驻 (`$f0` - `$f31`)**.
    *    专住专 `$f`   注专 **Single Precision** (32 住转).
    *   转 砖转砖 **转** 砖 专住专 (砖 `$f0`, `$f1`)   注专 **Double Precision** (64 住转). 转住 注拽专 -Single.
*   住 驻拽转 驻专 转 专 -`.s` (-Single)  `.d` (-Double).

### 3.2 驻拽转 专转转 (Single Precision)
*   专 驻专  **R-Type** 注 砖 拽. Opcode 专砖  17 (010001), 砖 `fmt` 爪 S=16 / D=17. 驻注 拽注转 注" `funct`.
*   `op | fmt | ft | fs | fd | funct`
    *   `fd`: 专住专 注.
    *   `fs`, `ft`: 专住专 拽专.

| 驻拽 | 驻注             |             |
| :------ | :----------------- | :--------------- |
| `add.s` | `$fd = $fs + $ft`  | `add.s $f0,$f2,$f4` |
| `sub.s` | `$fd = $fs - $ft`  | `sub.s $f0,$f2,$f4` |
| `mul.s` | `$fd = $fs * $ft`  | `mul.s $f0,$f2,$f4` |
| `div.s` | `$fd = $fs / $ft`  | `div.s $f0,$f2,$f4` |
| `abs.s` | `$fd = abs($fs)`   | `abs.s $f0,$f2`    |
| `neg.s` | `$fd = - $fs`      | `neg.s $f0,$f2`    |
| `sqrt.s`| `$fd = sqrt($fs)`  | `sqrt.s $f0,$f2`   |
| `mov.s` | `$fd = $fs` (注转拽) | `mov.s $f0,$f2`    |

### 3.3 驻拽转 注专转 转 ( CPU -CP1)
*   注专转 注专  专住专 "专" (`$t`, `$s`, ...) 专住专 拽 爪驻 (`$f`).

| 驻拽 | 驻注                 |              |
| :------ | :------------------- | :---------------- |
| `mfc1`  | `$rt = $fs` (Move From CP1) | `mfc1 $t0,$f12`   |
| `mtc1`  | `$fs = $rt` (Move To CP1)   | `mtc1 $t0,$f12`   |

### 3.4 驻拽转 砖 专 (Load/Store 注专 CP1)
*   驻拽转 I-Type 转 注 砖专 砖 注专 拽 爪驻 专 专住专 `$f` 驻.
*   砖 转转  -`lw`/`sw` 专 (爪注转 专住专 住住 -CPU).

| 驻拽 | 驻注                         |                |
| :------ | :--------------------------- | :------------------ |
| `lwc1`  | `$ft = Memory[base+offset]` (Load Word to CP1) | `lwc1 $f4, 8($sp)`  |
| `swc1`  | `Memory[base+offset] = $ft` (Store Word from CP1)| `swc1 $f6, 12($t0)` |

> [!NOTE] Pseudo-Instructions l.s / s.s
> 住专 砖 MARS 住驻拽 驻住-驻拽转 转:
> *   `l.s $f5, label` : 注 注专 Single 转转 `label` -`$f5`. (转专 -`lui`+`ori`+`lwc1`)
> *   `s.s $f5, label` : 砖专 注专 Single -`$f5` 转转 `label`. (转专 -`lui`+`ori`+`swc1`)

### 3.5 驻拽转 砖 (Single Precision)
*   砖转  砖 专住专 `$f` 注转 ** 爪 (Condition Flag)** 驻  -CP1 ( 专住专 专).

| 驻拽 | 转 (X) | 驻注                         |             |
| :------ | :-------: | :--------------------------- | :--------------- |
| `c.eq.s`| `eq`      | `Flag = ($fs == $ft)` (Equal) | `c.eq.s $f0,$f2` |
| `c.lt.s`| `lt`      | `Flag = ($fs < $ft)` (Less Than)| `c.lt.s $f0,$f2` |
| `c.le.s`| `le`      | `Flag = ($fs <= $ft)` (Less or Equal)|`c.le.s $f0,$f2`|
| (拽转 注: `ne`, `gt`, `ge`) | | |

> [!WARNING] Condition Flag
>  专住  驻拽转 砖. 砖 砖转砖   专 砖 爪注转 驻拽转 Branch 转转.

### 3.6 驻拽转 Branch 转转 (注专 CP1)
*   拽驻爪转 注 住 注专 砖  爪 砖拽注 注" 驻拽转 砖 专.

| 驻拽 | 驻注                                      |           |
| :------ | :---------------------------------------- | :------------- |
| `bc1t`  | `if (Flag == 1) branch to label` (Branch if True) | `bc1t Target`  |
| `bc1f`  | `if (Flag == 0) branch to label` (Branch if False)| `bc1f Target`  |

### 3.7 驻拽转 专 (Convert)
*   专转  爪 (Integer $\leftrightarrow$ Single $\leftrightarrow$ Double). 爪注转 转 CP1.

| 驻拽    | 驻注                                       |              |
| :-------- | :----------------------------------------- | :---------------- |
| `cvt.s.w` | `$fd(single) = convert_int_to_single($fs)` | `cvt.s.w $f0,$f2` |
| `cvt.w.s` | `$fd(int) = convert_single_to_int($fs)`    | `cvt.w.s $f0,$f2` |
| (拽转 注 专转 /-Double) |                                            |                   |