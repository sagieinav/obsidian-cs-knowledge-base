/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var p=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var C=(l,i)=>{for(var t in i)p(l,t,{get:i[t],enumerable:!0})},W=(l,i,t,e)=>{if(i&&typeof i=="object"||typeof i=="function")for(let s of w(i))!S.call(l,s)&&s!==t&&p(l,s,{get:()=>i[s],enumerable:!(e=m(i,s))||e.enumerable});return l};var y=l=>W(p({},"__esModule",{value:!0}),l);var v={};C(v,{default:()=>u});module.exports=y(v);var o=require("obsidian"),T={enableHalfWidthSpace:!0,enableFullWidthSpace:!0,enableTab:!0,customizeHomeKey:!0},u=class extends o.Plugin{constructor(){super(...arguments);this.handleEditorChange=t=>{let e=t.getCursor(),s=t.getLine(e.line),n=s.charAt(e.ch-1),r=a=>a.trim().startsWith("```"),b=a=>a.trim().startsWith("$$"),h=!1,c=!1;for(let a=0;a<=e.line;a++){let g=t.getLine(a);r(g)&&(h=!h),b(g)&&(c=!c)}if(!(h||c||r(s)||b(s)||s.trim().startsWith("#")||s.trim().startsWith(">")||/^\s*\d+\.\s/.test(s)||/^\s*\|.*\|\s*$/.test(s)||/\|.*\|/.test(s.trim())||/^\s*([-]{3,}|[*]{3,}|[_]{3,})\s*$/.test(s))&&(n===" "&&this.settings.enableHalfWidthSpace||n==="	"&&this.settings.enableTab||n==="\u3000"&&this.settings.enableFullWidthSpace)){let a=s.slice(0,e.ch);if(a.trim()===""&&!s.trim().startsWith("- ")){let f="- ";t.replaceRange(f,{line:e.line,ch:0},{line:e.line,ch:a.length}),t.setCursor({line:e.line,ch:f.length})}}}}async onload(){await this.loadSettings(),this.addSettingTab(new d(this.app,this)),this.registerEvent(this.app.workspace.on("editor-change",this.handleEditorChange)),this.addCommand({id:"move-cursor-after-bullet",name:"Move cursor after bullet point",editorCallback:t=>{let e=t.getCursor();t.getLine(e.line).trim().startsWith("- ")?this.moveCursorAfterBullet(t):t.setCursor({line:e.line,ch:0})}})}moveCursorAfterBullet(t){try{let e=t.getCursor(),s=t.getLine(e.line);if(s.trim().startsWith("- ")){let n=0;for(;n<s.length&&(s[n]===" "||s[n]==="	"||s[n]==="\u3000");)n++;if(s.substring(n).startsWith("- ")){let r=n+2;if(e.ch!==r)return t.setCursor({line:e.line,ch:r}),!0}}}catch(e){console.error(`Error in moveCursorAfterBullet: ${e.message}`)}return!1}async loadSettings(){this.settings=Object.assign({},T,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}onunload(){}},d=class extends o.PluginSettingTab{constructor(i,t){super(i,t),this.plugin=t}display(){let{containerEl:i}=this;i.empty(),new o.Setting(i).setName("Half-width space").setDesc("Insert bullet points when you press a half-width space at the beginning of a line").addToggle(t=>t.setValue(this.plugin.settings.enableHalfWidthSpace).onChange(async e=>{this.plugin.settings.enableHalfWidthSpace=e,await this.plugin.saveSettings()})),new o.Setting(i).setName("Full-width space").setDesc("Insert bullet points when you press a full-width space at the beginning of a line").addToggle(t=>t.setValue(this.plugin.settings.enableFullWidthSpace).onChange(async e=>{this.plugin.settings.enableFullWidthSpace=e,await this.plugin.saveSettings()})),new o.Setting(i).setName("Tab").setDesc("Insert bullet points when you press a tab at the beginning of a line").addToggle(t=>t.setValue(this.plugin.settings.enableTab).onChange(async e=>{this.plugin.settings.enableTab=e,await this.plugin.saveSettings()})),new o.Setting(i).setName("Customize home key").setDesc("Move cursor after bullet point (- ) when pressing Home or Ctrl+A in a bullet line").addToggle(t=>t.setValue(this.plugin.settings.customizeHomeKey).onChange(async e=>{this.plugin.settings.customizeHomeKey=e,await this.plugin.saveSettings()}))}};

/* nosourcemap */